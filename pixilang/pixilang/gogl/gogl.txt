
// GOGL - пример простого растрового редактора для Pixi
// На создание этого примера меня натолкнули различные дискуссии на форуме пиксиланга.
// Название GOGL происходит от ника одного из создателей пиксиланга - goglus, а также
// созвучно с GEGL, новым графическим движком The Gimp. Однако, это всего лишь шутка и не стоит
// воспринимать ее слишком серьезно :)
//
// Посвящаяется всем начинающим изучать программированиие (и в особенности язык Pixilang).
//
// Эта программа преподносится прежде всего как пример для дальнейшего русширения или обучения.
//
// Ключевые особенности:
// - используются три вида инструментов
//   * точки (пиксели)
//   * прямые линии
//   * кисти (можно загружать внешние gif'ы)
// - Поддержка функции отмены последнего действия
// - Простой инструмен выбора текущего цвета
//
//  Клавиши управления:
//  z - Отмена последнего действия
//  y - возврат последнего действия
//  del - очищает экран цветом фона
//  1 - выбрать инструмент "пиксель"
//  2 - выбрать инструмент "Линия (карандаш)"
//  3 - выбрать инструмент "Кисть"
//

INCLUDE "conf.txt"
INCLUDE "gogl/common.txt"
INCLUDE "gogl/instruments.txt"
INCLUDE "gogl/undo.txt"

clear(back_color)


undo_save

main:
error

use_current_instrument

handle_pen_keys(gogl_pen_down, gogl_pen_move, gogl_pen_up)
handle_hard_keys(gogl_key_down,gogl_key_up)
frame
go main
